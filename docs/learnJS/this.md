---
title: this指向问题
author: youlingyu
date: '2024-07-29'
---

一般讨论的this是this在函数中的指向，如果this不在函数中，就要看环境，如果在浏览器环境中，就指向全局对象window，在node环境中就指向一个空对象。
> 非严格模式下this指向window，严格模式下this指向undefined （代码一开始插入一行，‘use strict’ 即可开始严格模式）


## 函数中的this指向谁，取决于是如何调用这个函数
+ 通过new 来调用 指向新对象
+ 直接调用 指向全局对象
+ 通过对象调用指向这个对象
+ call，bind，apply 调用，指向第一个参数
  
## 箭头函数的this指向
关于 ES6 中的箭头函数，官方的解释是： 箭头函数里面的 this 是上下文( context ), 外部作用域的 this 就是箭头函数内的 this。

### 技巧：它的外层没有函数，this 是 window；外层有函数，看外层函数的 this 是谁，它的 this 就是谁。
外层函数可能是常规函数可能是箭头函数，判断外层的 this 要根据函数种类用不同方法：
外层函数是常规函数就看外层函数是被谁调用的；
外层是箭头函数就根据刚才说的技巧来判断；

